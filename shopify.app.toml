# Learn more about configuring your app at https://shopify.dev/docs/apps/tools/cli/configuration

# Replace with your app's client_id from Shopify Partners dashboard
client_id = "YOUR_CLIENT_ID"
name = "Duxly Connection"

# Replace with your CloudFront distribution URL after deployment
application_url = "https://YOUR_CLOUDFRONT_URL.cloudfront.net"
embedded = true

[webhooks]
api_version = "2026-01"

# GDPR compliance webhooks (required for public apps)
# Replace YOUR_API_GATEWAY_URL with your actual API Gateway URL after deployment
[[webhooks.subscriptions]]
topics = ["customers/data_request"]
uri = "https://YOUR_API_GATEWAY_URL.execute-api.eu-central-1.amazonaws.com/prod/webhooks/gdpr/customers_data_request"

[[webhooks.subscriptions]]
topics = ["customers/redact"]
uri = "https://YOUR_API_GATEWAY_URL.execute-api.eu-central-1.amazonaws.com/prod/webhooks/gdpr/customers_redact"

[[webhooks.subscriptions]]
topics = ["shop/redact"]
uri = "https://YOUR_API_GATEWAY_URL.execute-api.eu-central-1.amazonaws.com/prod/webhooks/gdpr/shop_redact"

[access_scopes]
# Learn more at https://shopify.dev/docs/apps/tools/cli/configuration#access_scopes
scopes = "read_products,write_products,read_orders"
optional_scopes = []
use_legacy_install_flow = false

[auth]
# Replace with your API Gateway callback URL after deployment
redirect_urls = ["https://YOUR_API_GATEWAY_URL.execute-api.eu-central-1.amazonaws.com/prod/callback"]

[app_proxy]
# Optional: Configure app proxy if needed
# url = "https://YOUR_API_GATEWAY_URL.execute-api.eu-central-1.amazonaws.com/prod/proxy"
# subpath = "apps/duxly"
# prefix = "apps"

[pos]
embedded = false

[build]
include_config_on_deploy = true
